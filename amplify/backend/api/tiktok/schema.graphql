type User @model {
  id: ID!
  username: String!
  email: String!
  imageUri: String
  bio: String
  posts: [Post] @connection(keyName: "byUser", fields: ["id"])
  following: [Follow]
  followers: [Follow]
  notifications: [UserNotification]
    @connection(keyName: "byUser", fields: ["id"])
}

type Follow {
  userId: ID!
  userName: String!
  imgUri: String!
}

type Post @model @key(name: "byUser", fields: ["userID"]) {
  id: ID!
  videoUri: String!
  description: String!
  likes: [ID]

  userID: ID!
  user: User @connection(fields: ["userID"])

  songID: ID!
  song: Song @connection(fields: ["songID"])

  comments: [Comment] @connection(keyName: "commentsByPostId", fields: ["id"])
}

type Comment @model @key(name: "commentsByPostId", fields: ["postId"]) {
  id: ID!
  postId: ID!
  userID: ID!
  text: String!
  likes: [ID]
  user: User @connection(fields: ["userID"])
  post: Post @connection(fields: ["postId"])
}

type Song @model {
  id: ID!
  name: String!
  imageUri: String
}

type Notification @model {
  id: ID!
  message: String!
}

type UserNotification @model @key(name: "byUser", fields: ["userID"]) {
  id: ID!
  userID: ID!
  ownerID: ID!
  user: User @connection(fields: ["userID"])
  notificationID: ID!
  notification: Notification @connection(fields: ["notificationID"])
  read: Boolean!
}
